<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright 2005 The Apache Software Foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!-- $Id$ -->
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN" "http://forrest.apache.org/dtd/document-v20.dtd">
<document>
  <header>
    <title>Upgrading from an Earlier Version of Apache FOP</title>
    <version>$Revision$</version>
  </header>
  <body>
    <section id="important">
      <title>Important!</title>
      <p>
        If you're planning to upgrade to the latest FOP version there are a few very important things 
        to consider:
      </p>
      <ul>
        <li>
          More than half of the codebase has been rewritten over the last three years. The code is 
          new and not as stable as version 0.20.5.
        </li>
        <li>
          The API of FOP has changed considerably and is not backwards-compatible with version 0.20.5.
        </li>
        <li>
          The new API is not stable, yet. Please be aware that further changes might still occur!
        </li>
        <li>
          <p>
            The new code is much more strict about the interpretation of the XSL-FO 1.0 specification.
            Things that worked fine in version 0.20.5 might start to produce warnings or even errors
            now. FOP 0.20.5 contains many bugs which have been corrected in the new code.
          </p>
          <note label="An example">
            While FOP 0.20.5 allowed you to have empty <code>fo:table-cell</code> elements, the new code
            will complain about that (unless relaxed validation is enabled) because the specification
            demands at least one block-level element (<code>(%block;)+</code>, see XSL-FO 1.0, 6.7.10)
            inside an <code>fo:table-cell</code> element.
          </note>
        </li>
        <li>
          Extensions written for version 0.20.5 will not work with the new code!
        </li>
        <li>
          By looking at the <a href="../compliance.html">Compliance page</a> you might get the impression
          that the new code is much more advanced than version 0.20.5. That's true but there are still
          a few things that may not be handled as gracefully by the new code as by version 0.20.5.
        </li>
      </ul>
      <p>
        So, please evaluate carefully before messing up your productive environment!
      </p>
    </section>
  </body>
</document>
