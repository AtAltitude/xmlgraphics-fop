<?xml version="1.0" standalone="no"?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V1.1//EN"
    "http://cvs.apache.org/viewcvs.cgi/*checkout*/xml-forrest/src/resources/schema/dtd/document-v11.dtd">

<document>
  <header>
    <title>Ant task</title>
  </header>
  <body>
    <p>
    FOP provides an Ant task for integration into the build process.</p>
    <section><title>Description</title>
    <p>
    FOP Ant task converts xsl-fo documents to PDF/PS/PCL/MIF/RTF output
    (see <link href="output.html">Output formats</link> for available formats).</p>
    <p>
    FileSets are used to select files to render.</p>
    </section>
    <!-- TODO: Installation/Configuration -->
    <section><title>Parameters</title>
     <table><caption>parameters for FOP Ant task</caption> 
      <tr> 
       <th>Attribute</th> 
       <th>Description</th> 
       <th>Required</th> 
      </tr> 
      <tr> 
       <td>fofile</td> 
       <td>XSL-FO file to be rendered</td> 
       <td>Only if there's no fileset</td> 
      </tr> 
      <tr> 
       <td>outfile</td> 
       <td>Output filename</td> 
       <td>Only when fofile is used (if there's no fileset)</td> 
      </tr> 
      <tr> 
       <td>format</td> 
       <td>Possible ouput formats:<br/>
         <code>application/pdf</code><br/>
         <code>application/postscript</code><br/>
         <code>application/vnd.mif</code><br/>
         <code>application/rtf</code><br/>
         <code>application/vnd.hp-PCL</code><br/>
         <code>text/plain</code><br/>
         <code>text/xml</code><br/>
         Defaults to <code>application/pdf</code>
       </td> 
       <td>No, default is <code>application/pdf</code></td> 
      </tr> 
      <tr> 
       <td>outdir</td> 
       <td>Output directory</td> 
       <td>Yes</td> 
      </tr> 
      <tr> 
       <td>basedir</td> 
       <td>Directory to work from</td> 
       <td>Yes</td> 
      </tr> 
      <tr> 
       <td>userconfig</td> 
       <td>File with user configuration (same as the "-c" command line option)</td> 
       <td>No</td> 
      </tr> 
      <tr> 
       <td>messagelevel</td> 
       <td>Logging level<br/>
       Possible values: error, warn, info, verbose, debug</td> 
       <td>No; defaults to verbose</td> 
      </tr> 
      <tr> 
       <td>logFiles</td> 
       <td>Controls whether the names of the files that are processed are logged or not</td> 
       <td>No; default is true</td> 
      </tr> 
     </table> 
     <section><title>Parameters specified as nested elements</title>
      <section><title>fileset</title>
      <p>
      FileSets are used to select files that will be rendered to the
      selected output format.</p>
      </section>
     </section>
    </section>
    <section>
    <title>Examples</title>
    <p>
    Converts one XSL-FO file to PDF:
    </p>
    <source><![CDATA[
<target name="generate-pdf" depends="init" description="Generates PDF file">

  <taskdef name="fop" classname="org.apache.fop.tools.anttasks.Fop"
           classpathref="libs-run-classpath"/>

  <fop fofile="examples/fo/basic/extensive.fo" outfile="${build.dir}/extensive.pdf"/>

</target>
    ]]></source>
    <p>
    Converts a whole directory of XSL-FO files to PostScript:
    </p>
    <source><![CDATA[
<fop format="application/postscript" outdir="${build.dir}"
     messagelevel="debug" basedir="${fo.examples.dir}">
  <fileset dir="${fo.examples.dir}">
    <include name="**/*.fo"/>
  </fileset>
</fop>
    ]]></source>
    </section>
    </body>
</document>

